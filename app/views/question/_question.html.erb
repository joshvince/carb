<div class="flex flex-col w-screen">
  <div class="sticky top-0 z-30 bg-gradient-to-b to-yellow-50/60 via-yellow-50/40 from-transparent backdrop-blur-sm pb-4 shadow-[0_4px_6px_-1px_rgba(0,0,0,0.1)]" style="pointer-events: none;">
    <div class="flex flex-col gap-y-2 px-6 md:px-12 pt-4 mt-8">
      <h1 class="text-4xl lg:text-5xl text-amber-900 font-black">The Question</h1>
      <div class="text-xl text-amber-600 font-black">Rate these carbs from best to worst</div>
      <div id="emoji-source" class="flex justify-center gap-6 pt-4 relative z-50" style="pointer-events: auto; position: relative;">
        <div class="emoji-item text-5xl cursor-grab active:cursor-grabbing transition-transform duration-200 hover:scale-110 relative z-50 touch-manipulation" draggable="true" data-emoji="üçû">üçû</div>
        <div class="emoji-item text-5xl cursor-grab active:cursor-grabbing transition-transform duration-200 hover:scale-110 relative z-50 touch-manipulation" draggable="true" data-emoji="üçú">üçú</div>
        <div class="emoji-item text-5xl cursor-grab active:cursor-grabbing transition-transform duration-200 hover:scale-110 relative z-50 touch-manipulation" draggable="true" data-emoji="üçù">üçù</div>
        <div class="emoji-item text-5xl cursor-grab active:cursor-grabbing transition-transform duration-200 hover:scale-110 relative z-50 touch-manipulation" draggable="true" data-emoji="ü•î">ü•î</div>
        <div class="emoji-item text-5xl cursor-grab active:cursor-grabbing transition-transform duration-200 hover:scale-110 relative z-50 touch-manipulation" draggable="true" data-emoji="üçö">üçö</div>
      </div>
    </div>
  </div>
  <div class="flex flex-col items-center w-full max-w-4xl mx-auto p-6 select-none">
    <!-- Drag and Drop Container -->
    <div class="w-full">

      <!-- Drop Zones -->
      <div class="mb-8">
        <div class="flex flex-col gap-y-1 max-w-md mx-auto">
          <div class="drop-zone flex items-center justify-between p-4 bg-amber-50/50 border-2 border-dashed border-amber-400 rounded-lg min-h-[80px] transition-all duration-200 hover:bg-amber-100/70" data-position="1">
            <div class="flex items-center">
              <div class="text-2xl font-black text-amber-700 mr-4">1</div>
              <div class="emoji-slot text-4xl text-amber-200 mr-4">‚óã</div>
              <div class="name-slot text-2xl font-black text-amber-800"></div>
            </div>
            <div class="affordance-text text-amber-600 font-medium opacity-0" data-desktop-text="Drop here" data-mobile-text="Tap to choose">Drop here</div>
          </div>
          <div class="drop-zone flex items-center justify-between p-4 bg-amber-50/50 border-2 border-dashed border-amber-400 rounded-lg min-h-[80px] transition-all duration-200 hover:bg-amber-100/70" data-position="2">
            <div class="flex items-center">
              <div class="text-2xl font-black text-amber-700 mr-4">2</div>
              <div class="emoji-slot text-4xl text-amber-200 mr-4">‚óã</div>
              <div class="name-slot text-2xl font-black text-amber-800"></div>
            </div>
            <div class="affordance-text text-amber-600 font-medium opacity-0" data-desktop-text="Drop here" data-mobile-text="Tap to choose">Drop here</div>
          </div>
          <div class="drop-zone flex items-center justify-between p-4 bg-amber-50/50 border-2 border-dashed border-amber-400 rounded-lg min-h-[80px] transition-all duration-200 hover:bg-amber-100/70" data-position="3">
            <div class="flex items-center">
              <div class="text-2xl font-black text-amber-700 mr-4">3</div>
              <div class="emoji-slot text-4xl text-amber-200 mr-4">‚óã</div>
              <div class="name-slot text-2xl font-black text-amber-800"></div>
            </div>
            <div class="affordance-text text-amber-600 font-medium opacity-0" data-desktop-text="Drop here" data-mobile-text="Tap to choose">Drop here</div>
          </div>
          <div class="drop-zone flex items-center justify-between p-4 bg-amber-50/50 border-2 border-dashed border-amber-400 rounded-lg min-h-[80px] transition-all duration-200 hover:bg-amber-100/70" data-position="4">
            <div class="flex items-center">
              <div class="text-2xl font-black text-amber-700 mr-4">4</div>
              <div class="emoji-slot text-4xl text-amber-200 mr-4">‚óã</div>
              <div class="name-slot text-2xl font-black text-amber-800"></div>
            </div>
            <div class="affordance-text text-amber-600 font-medium opacity-0" data-desktop-text="Drop here" data-mobile-text="Tap to choose">Drop here</div>
          </div>
          <div class="drop-zone flex items-center justify-between p-4 bg-amber-50/50 border-2 border-dashed border-amber-400 rounded-lg min-h-[80px] transition-all duration-200 hover:bg-amber-100/70" data-position="5">
            <div class="flex items-center">
              <div class="text-2xl font-black text-amber-700 mr-4">5</div>
              <div class="emoji-slot text-4xl text-amber-200 mr-4">‚óã</div>
              <div class="name-slot text-2xl font-black text-amber-800"></div>
            </div>
            <div class="affordance-text text-amber-600 font-medium opacity-0" data-desktop-text="Drop here" data-mobile-text="Tap to choose">Drop here</div>
          </div>
          <div class=" flex items-center justify-end">
            <button id="clear-all-button" class="px-4 py-2 text-rose-500 text-sm hover:text-rose-800 transition-colors duration-200">
              Clear all
            </button>
          </div>
        </div>
      </div>

      <%= form_with url: answer_path do |f| %>
        <%= f.hidden_field :position_1 %>
        <%= f.hidden_field :position_2 %>
        <%= f.hidden_field :position_3 %>
        <%= f.hidden_field :position_4 %>
        <%= f.hidden_field :position_5 %>
        <div class="flex justify-center">
          <%= f.submit 'Answer the question', id: 'submit-answer', class: 'px-8 py-4 bg-amber-600 text-white font-bold text-xl rounded-lg hover:bg-amber-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed', disabled: true  %>
      <% end %>
    </div>
  </div>
</div>
<%= javascript_include_tag 'drag_and_drop_vanilla' %>
